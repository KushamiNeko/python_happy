<div class="parameters-main-container">
  <div class="parameters-container">
    <span class="parameters-title">Preset Parameters</span>
    <span class="parameters-separator"></span>
    <div class="parameters-set">
      <select
        class="parameters-text"
        (change)="presetChange($event.target.value)"
      >
        <option
          *ngFor="let key of objectKeys(presets); let id = index"
          key="{index}"
          value="{{ key }}"
        >
          {{ key }}
        </option>
      </select>
    </div>
    <div class="parameters-set">
      <button
        *ngFor="let value of presets[selectedPreset]"
        [ngClass]="{
          'parameters-button': true,
          'parameters-button-active': activatedSettings[
            selectedPreset
          ].includes(value)
        }"
        (click)="activateSetting(value)"
      >
        {{ value }}
      </button>
    </div>
  </div>

  

  <div class="parameters-container">
    <div class="parameters-title">Entry Zone Parameters</div>

    <span class="parameters-separator"></span>

    <div class="parameters-set">
      <span class="parameters-label">Notice Signal Date</span>
      <input
        type="text"
        [ngClass]="{
          'parameters-text': true,
          'parameters-error': errors['EntryNoticeDate']
        }"
        [(ngModel)]="params['EntryNoticeDate']"
        (ngModelChange)="datetimeChange('EntryNoticeDate')"
      />
    </div>

    <div class="parameters-set">
      <span class="parameters-label">Prepare Signal Date</span>
      <input
        type="text"
        [ngClass]="{
          'parameters-text': true,
          'parameters-error': errors['EntryPrepareDate']
        }"
        [(ngModel)]="params['EntryPrepareDate']"
        (ngModelChange)="datetimeChange('EntryPrepareDate')"
      />
    </div>

    <div class="parameters-set">
      <span class="parameters-label">Operation</span>
      <button
        #op
        class="parameters-button"
        (click)="
          params['EntryOp'] = params['EntryOp'] == 'long' ? 'short' : 'long'
        "
      >
        {{ params["EntryOp"] }}
      </button>
    </div>

    <span class="parameters-separator"></span>

    <button
      [ngClass]="{
        'parameters-button': true,
        'parameters-button-working': isWorking
      }"
      (click)="setParameters()"
    >
      ok
    </button>
  </div>

  <div *ngIf="controlsTrigger('vixzone')" class="parameters-container">
    <!-- <div class="parameters-title">{{ symbol.toUpperCase() }} Zone Parameters</div> -->
    <div class="parameters-title">Volatility Zone Parameters</div>

    <span class="parameters-separator"></span>

    <div class="parameters-set">
      <span class="parameters-label">Reference Date</span>
      <input
        type="text"
        [ngClass]="{
          'parameters-text': true,
          'parameters-error': errors['VixReferenceDate']
        }"
        [(ngModel)]="params['VixReferenceDate']"
        (ngModelChange)="datetimeChange('VixReferenceDate')"
      />
    </div>

    <div class="parameters-set">
      <span class="parameters-label">Operation</span>
      <button
        #op
        class="parameters-button"
        (click)="params['VixOp'] = params['VixOp'] == 'long' ? 'short' : 'long'"
      >
        {{ params["VixOp"] }}
      </button>
    </div>

    <span class="parameters-separator"></span>

    <button
      [ngClass]="{
        'parameters-button': true,
        'parameters-button-working': isWorking
      }"
      (click)="setParameters()"
    >
      ok
    </button>
  </div>
</div>
